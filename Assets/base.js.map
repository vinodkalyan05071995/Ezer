{
  "version": 3,
  "sources": ["../src/js/common/index.js"],
  "sourcesContent": ["window.addEventListener('DOMContentLoaded', function () {\n  // Make header transparent when the page is at the top, solid background when scrolled\n  window.addEventListener('scroll', function () {\n    var header = document.querySelector('header');\n    if (!header) return;\n    if (window.scrollY > 0) {\n      header.classList.remove('header--transparent');\n    } else {\n      header.classList.add('header--transparent');\n    }\n\n\n    // Draw chart only when the chart is visible using Intersection Observer\n    const chartCanvas = document.getElementById('insightsDoughnutChart');\n    let chartInstance = null;\n\n    if (chartCanvas) {\n      const drawChart = () => {\n        if (chartInstance) return; // Only draw once\n        const ctx = chartCanvas.getContext('2d');\n        chartInstance = new Chart(ctx, {\n          type: 'doughnut',\n          data: {\n            labels: [\n              'All Other Queries',\n              'New Car Inquiry',\n              'Used Cars Inquiry',\n              'Bookings',\n              'Service and Parts',\n              'Finance and Lease'\n            ],\n            datasets: [{\n              data: [12.02, 40, 20, 19, 9, 0.98],\n              backgroundColor: [\n                '#FFA726', // All Other Queries (orange)\n                '#66BB6A', // New Car Inquiry (green)\n                '#29B6F6', // Used Cars Inquiry (blue)\n                '#AB47BC', // Bookings (purple)\n                '#FF7043', // Service and Parts (red-orange)\n                '#EC407A'  // Finance and Lease (pink)\n              ],\n              borderWidth: 2,\n              borderColor: '#1c1c1c'\n            }]\n          },\n          options: {\n            responsive: false,\n            plugins: {\n              legend: {\n                display: true,\n                position: 'bottom',\n                labels: {\n                  color: '#111'\n                }\n              },\n              tooltip: {\n                enabled: true,\n                callbacks: {\n                  label: function (context) {\n                    const label = context.label || '';\n                    const value = context.parsed || 0;\n                    return `${label}: ${value}%`;\n                  }\n                }\n              },\n              datalabels: {\n                color: '#fff',\n                font: {\n                  weight: 'bold',\n                  size: 16\n                },\n                formatter: function (value, context) {\n                  return value.toFixed(1) + '%';\n                }\n              }\n            },\n            cutout: '50%',\n          },\n          plugins: [ChartDataLabels]\n        });\n      };\n\n      // Setup Intersection Observer\n      const observer = new window.IntersectionObserver(\n        (entries, obs) => {\n          entries.forEach((entry) => {\n            if (entry.isIntersecting) {\n              drawChart();\n              obs.disconnect(); // Only fire once\n            }\n          });\n        },\n        { threshold: 0.3 }\n      );\n      observer.observe(chartCanvas);\n    }\n  });\n\n  // Contact form handler (EmailJS + CRISP integration)\n  const contactForm = document.getElementById('contact-form');\n  const formMessage = document.getElementById('form-message');\n  const submitBtn = document.getElementById('submit-btn');\n\n  function pushFormDataToCrisp(form) {\n    if (typeof window.$crisp === 'undefined') return;\n    const formData = new FormData(form);\n    const name = formData.get('name') || '';\n    const email = formData.get('email') || '';\n    const phone = formData.get('phone') || '';\n    const dealership = formData.get('dealership') || '';\n    const message = formData.get('message') || '';\n\n    window.$crisp.push(['set', 'user:email', [email]]);\n    window.$crisp.push(['set', 'user:phone', [phone]]);\n    window.$crisp.push(['set', 'user:nickname', [name]]);\n    window.$crisp.push(['set', 'session:data', [[\n      ['dealership', dealership],\n      ['message', message]\n    ]]]);\n  }\n\n  function openCrispChat() {\n    if (typeof window.$crisp === 'undefined') return;\n    window.$crisp.push(['do', 'chat:open']);\n  }\n\n  if (contactForm) {\n    if (typeof emailjs !== 'undefined') {\n      emailjs.init('X3FblCXeZ8HtDbEQ8');\n    }\n\n    contactForm.addEventListener('submit', function (event) {\n      event.preventDefault();\n      const form = event.target instanceof HTMLFormElement ? event.target : contactForm.querySelector('form');\n      if (!form) return;\n\n      // Push form data to CRISP (available when CRISP_WEBSITE_ID is loaded)\n      pushFormDataToCrisp(form);\n\n      // Disable submit button and show loading state\n      if (submitBtn) {\n        submitBtn.disabled = true;\n        submitBtn.textContent = 'Sending...';\n      }\n      if (formMessage) formMessage.style.display = 'none';\n\n      if (typeof emailjs !== 'undefined') {\n        const serviceID = 'service_bhil0bh';\n        const templateID = 'template_7w2nm24';\n\n        emailjs.sendForm(serviceID, templateID, form)\n          .then(() => {\n            if (formMessage) {\n              formMessage.style.display = 'block';\n              formMessage.style.backgroundColor = '#d4edda';\n              formMessage.style.color = '#155724';\n              formMessage.style.border = '1px solid #c3e6cb';\n              formMessage.textContent = 'Thank you! Your message has been sent successfully.';\n            }\n            form.reset();\n            if (submitBtn) {\n              submitBtn.disabled = false;\n              submitBtn.textContent = 'Submit';\n            }\n            openCrispChat();\n          }, (err) => {\n            if (formMessage) {\n              formMessage.style.display = 'block';\n              formMessage.style.backgroundColor = '#f8d7da';\n              formMessage.style.color = '#721c24';\n              formMessage.style.border = '1px solid #f5c6cb';\n              formMessage.textContent = 'Sorry, there was an error sending your message. Please try again.';\n            }\n            if (submitBtn) {\n              submitBtn.disabled = false;\n              submitBtn.textContent = 'Submit';\n            }\n            openCrispChat();\n            console.error('EmailJS error:', err);\n          });\n      } else {\n        // No EmailJS: still push to CRISP and open chat\n        if (formMessage) {\n          formMessage.style.display = 'block';\n          formMessage.style.backgroundColor = '#d4edda';\n          formMessage.style.color = '#155724';\n          formMessage.style.border = '1px solid #c3e6cb';\n          formMessage.textContent = 'Thank you! Your message has been received. Our team will reach out shortly.';\n        }\n        form.reset();\n        if (submitBtn) {\n          submitBtn.disabled = false;\n          submitBtn.textContent = 'Submit';\n        }\n        openCrispChat();\n      }\n    });\n  }\n\n  const btn = document.getElementById('scrollToTopBtn');\n  if (btn) {\n    window.addEventListener('scroll', function () {\n      btn.style.display = window.scrollY > 200 ? 'block' : 'none';\n    });\n    btn.addEventListener('click', function () {\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n    });\n  }\n\n  AOS.init();\n\n  var el1 = document.querySelector('.swiper-containe1');\n  var el2 = document.querySelector('.swiper-containe2');\n  if (el1 && el2 && typeof Swiper !== 'undefined') {\n    var quoteSwiper = new Swiper('.swiper-containe1', { effect: 'fade' });\n    var imageSwiper = new Swiper('.swiper-containe2', {\n      spaceBetween: 20,\n      navigation: {\n        nextEl: '.swiper-button-next-testimonials',\n        prevEl: '.swiper-button-prev-testimonials',\n      },\n    });\n    quoteSwiper.controller.control = imageSwiper;\n    imageSwiper.controller.control = quoteSwiper;\n  }\n});\n\n\n"],
  "mappings": "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",
  "names": ["header", "chartCanvas", "chartInstance", "drawChart", "ctx", "context", "label", "value", "entries", "obs", "entry", "contactForm", "formMessage", "submitBtn", "pushFormDataToCrisp", "form", "formData", "name", "email", "phone", "dealership", "message", "openCrispChat", "event", "err", "btn", "el1", "el2", "quoteSwiper", "imageSwiper"]
}
