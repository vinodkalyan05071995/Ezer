{
  "version": 3,
  "sources": ["../src/js/common/index.js"],
  "sourcesContent": ["window.addEventListener('DOMContentLoaded', function () {\n  // Make header transparent when the page is at the top, solid background when scrolled\n  window.addEventListener('scroll', function () {\n    var header = document.querySelector('header');\n    if (!header) return;\n    if (window.scrollY > 0) {\n      header.classList.remove('header--transparent');\n    } else {\n      header.classList.add('header--transparent');\n    }\n\n\n    // Draw chart only when the chart is visible using Intersection Observer\n    const chartCanvas = document.getElementById('insightsDoughnutChart');\n    let chartInstance = null;\n\n    if (chartCanvas) {\n      const drawChart = () => {\n        if (chartInstance) return; // Only draw once\n        const ctx = chartCanvas.getContext('2d');\n        chartInstance = new Chart(ctx, {\n          type: 'doughnut',\n          data: {\n            labels: [\n              'All Other Queries',\n              'New Car Inquiry',\n              'Used Cars Inquiry',\n              'Bookings',\n              'Service and Parts',\n              'Finance and Lease'\n            ],\n            datasets: [{\n              data: [12.02, 40, 20, 19, 9, 0.98],\n              backgroundColor: [\n                '#FFA726', // All Other Queries (orange)\n                '#66BB6A', // New Car Inquiry (green)\n                '#29B6F6', // Used Cars Inquiry (blue)\n                '#AB47BC', // Bookings (purple)\n                '#FF7043', // Service and Parts (red-orange)\n                '#EC407A'  // Finance and Lease (pink)\n              ],\n              borderWidth: 2,\n              borderColor: '#1c1c1c'\n            }]\n          },\n          options: {\n            responsive: false,\n            plugins: {\n              legend: {\n                display: true,\n                position: 'bottom',\n                labels: {\n                  color: '#111'\n                }\n              },\n              tooltip: {\n                enabled: true,\n                callbacks: {\n                  label: function (context) {\n                    const label = context.label || '';\n                    const value = context.parsed || 0;\n                    return `${label}: ${value}%`;\n                  }\n                }\n              },\n              datalabels: {\n                color: '#fff',\n                font: {\n                  weight: 'bold',\n                  size: 16\n                },\n                formatter: function (value, context) {\n                  return value.toFixed(1) + '%';\n                }\n              }\n            },\n            cutout: '50%',\n          },\n          plugins: [ChartDataLabels]\n        });\n      };\n\n      // Setup Intersection Observer\n      const observer = new window.IntersectionObserver(\n        (entries, obs) => {\n          entries.forEach((entry) => {\n            if (entry.isIntersecting) {\n              drawChart();\n              obs.disconnect(); // Only fire once\n            }\n          });\n        },\n        { threshold: 0.3 }\n      );\n      observer.observe(chartCanvas);\n    }\n  });\n\n  // Contact form handler (EmailJS + CRISP integration)\n  const contactForm = document.getElementById('contact-form');\n  const formMessage = document.getElementById('form-message');\n  const submitBtn = document.getElementById('submit-btn');\n\n  function pushFormDataToCrisp(form) {\n    if (typeof window.$crisp === 'undefined') return;\n    const formData = new FormData(form);\n    const name = formData.get('name') || '';\n    const email = formData.get('email') || '';\n    const phone = formData.get('phone') || '';\n    const dealership = formData.get('dealership') || '';\n    const message = formData.get('message') || '';\n\n    window.$crisp.push(['set', 'user:email', [email]]);\n    window.$crisp.push(['set', 'user:phone', [phone]]);\n    window.$crisp.push(['set', 'user:nickname', [name]]);\n    window.$crisp.push(['set', 'session:data', [[\n      ['dealership', dealership],\n      ['message', message]\n    ]]]);\n  }\n\n  function openCrispChat() {\n    if (typeof window.$crisp === 'undefined') return;\n    window.$crisp.push(['do', 'chat:open']);\n  }\n\n  if (contactForm) {\n    if (typeof emailjs !== 'undefined') {\n      emailjs.init('X3FblCXeZ8HtDbEQ8');\n    }\n\n    contactForm.addEventListener('submit', function (event) {\n      event.preventDefault();\n      const form = event.target instanceof HTMLFormElement ? event.target : contactForm.querySelector('form');\n      if (!form) return;\n\n      // Push form data to CRISP (available when CRISP_WEBSITE_ID is loaded)\n      pushFormDataToCrisp(form);\n\n      // Disable submit button and show loading state\n      if (submitBtn) {\n        submitBtn.disabled = true;\n        submitBtn.textContent = 'Sending...';\n      }\n      if (formMessage) formMessage.style.display = 'none';\n\n      if (typeof emailjs !== 'undefined') {\n        const serviceID = 'service_bhil0bh';\n        const templateID = 'template_7w2nm24';\n\n        emailjs.sendForm(serviceID, templateID, form)\n          .then(() => {\n            if (formMessage) {\n              formMessage.style.display = 'block';\n              formMessage.style.backgroundColor = '#d4edda';\n              formMessage.style.color = '#155724';\n              formMessage.style.border = '1px solid #c3e6cb';\n              formMessage.textContent = 'Thank you! Your message has been sent successfully.';\n            }\n            form.reset();\n            if (submitBtn) {\n              submitBtn.disabled = false;\n              submitBtn.textContent = 'Submit';\n            }\n            openCrispChat();\n          }, (err) => {\n            if (formMessage) {\n              formMessage.style.display = 'block';\n              formMessage.style.backgroundColor = '#f8d7da';\n              formMessage.style.color = '#721c24';\n              formMessage.style.border = '1px solid #f5c6cb';\n              formMessage.textContent = 'Sorry, there was an error sending your message. Please try again.';\n            }\n            if (submitBtn) {\n              submitBtn.disabled = false;\n              submitBtn.textContent = 'Submit';\n            }\n            openCrispChat();\n            console.error('EmailJS error:', err);\n          });\n      } else {\n        // No EmailJS: still push to CRISP and open chat\n        if (formMessage) {\n          formMessage.style.display = 'block';\n          formMessage.style.backgroundColor = '#d4edda';\n          formMessage.style.color = '#155724';\n          formMessage.style.border = '1px solid #c3e6cb';\n          formMessage.textContent = 'Thank you! Your message has been received. Our team will reach out shortly.';\n        }\n        form.reset();\n        if (submitBtn) {\n          submitBtn.disabled = false;\n          submitBtn.textContent = 'Submit';\n        }\n        openCrispChat();\n      }\n    });\n  }\n\n  const btn = document.getElementById('scrollToTopBtn');\n  if (btn) {\n    window.addEventListener('scroll', function () {\n      btn.style.display = window.scrollY > 200 ? 'block' : 'none';\n    });\n    btn.addEventListener('click', function () {\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n    });\n  }\n\n  AOS.init();\n\n  var el1 = document.querySelector('.swiper-containe1');\n  var el2 = document.querySelector('.swiper-containe2');\n  if (el1 && el2 && typeof Swiper !== 'undefined') {\n    var quoteSwiper = new Swiper('.swiper-containe1', { effect: 'fade' });\n    var imageSwiper = new Swiper('.swiper-containe2', {\n      spaceBetween: 20,\n      navigation: {\n        nextEl: '.swiper-button-next-testimonials',\n        prevEl: '.swiper-button-prev-testimonials',\n      },\n    });\n    quoteSwiper.controller.control = imageSwiper;\n    imageSwiper.controller.control = quoteSwiper;\n  }\n});\n\n\n"],
  "mappings": "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",
  "names": []
}
